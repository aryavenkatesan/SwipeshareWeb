// LoopyBackground with Lenis integration
import { useEffect, useState } from 'react';
import { useLenis } from './lenis';
// IMPORT YOUR CUSTOM SVG HERE
// import loopyPath from '/assets/loopy-path.svg';
// OR if using as a React component:
// import { ReactComponent as LoopyPath } from '/assets/loopy-path.svg';

const LoopyBackground = () => {
    const [scrollY, setScrollY] = useState(0);
    const lenis = useLenis();

    useEffect(() => {
        if (!lenis) return;

        const handleScroll = () => {
            setScrollY(lenis.scroll);
        };

        lenis.on('scroll', handleScroll);

        return () => {
            lenis.off('scroll', handleScroll);
        };
    }, [lenis]);

    const translateY = scrollY * 0.3; // Adjust speed multiplier as needed

    return (
        <div className="fixed inset-0 pointer-events-none z-0">
            {/* OPTION 1: If using imported SVG as an image */}
            {/* <img 
                src={loopyPath} 
                alt="" 
                className="w-full h-full object-cover"
                style={{
                    transform: `translateY(${-translateY % 1000}px)`,
                }}
            /> */}

            {/* OPTION 2: If using SVG as React component */}
            {/* <LoopyPath 
                className="w-full h-full"
                style={{
                    transform: `translateY(${-translateY % 1000}px)`,
                }}
            /> */}

            {/* OPTION 3: Inline SVG (current implementation) */}

            <svg className="w-full h-full"
                viewBox="0 0 585.955 1747.76"
                preserveAspectRatio="xMidYMax meet"
                style={{
                    transform: `translateY(${-translateY % 1747}px)`,
                }}>
                <path d="M585.955 37.8401C585.955 37.8401 583.415 38.1801 578.335 38.8601C573.255 39.5267 565.641 41.2001 555.495 43.8801C545.348 46.5467 537.341 48.8867 531.475 50.9001C525.608 52.9001 519.835 54.9401 514.155 57.0201C508.488 59.1001 502.355 61.2134 495.755 63.3601C489.141 65.4934 481.815 68.0734 473.775 71.1001C465.721 74.1134 457.928 77.3467 450.395 80.8001C442.848 84.2401 435.055 87.8334 427.015 91.5801C418.975 95.3267 411.181 99.2334 403.635 103.3C396.075 107.367 388.155 111.62 379.875 116.06C371.595 120.487 363.615 125.047 355.935 129.74C348.255 134.433 340.921 139.2 333.935 144.04C326.948 148.88 320.581 153.467 314.835 157.8C309.075 162.12 302.528 166.893 295.195 172.12C287.848 177.36 281.255 182.193 275.415 186.62C269.588 191.047 264.361 195.153 259.735 198.94C255.108 202.727 250.608 206.447 246.235 210.1C241.848 213.74 236.268 218.8 229.495 225.28C222.708 231.747 216.635 238.26 211.275 244.82C205.901 251.38 200.881 258.06 196.215 264.86C191.535 271.66 186.528 279.627 181.195 288.76C175.875 297.88 171.475 306.347 167.995 314.16C164.515 321.987 161.595 330.273 159.235 339.02C156.861 347.767 155.021 356.813 153.715 366.16C152.408 375.493 151.681 384.667 151.535 393.68C151.401 402.693 151.468 411.74 151.735 420.82C152.001 429.9 152.875 438.013 154.355 445.16C155.835 452.32 157.541 459.1 159.475 465.5C161.421 471.913 163.521 477.993 165.775 483.74C168.028 489.473 170.308 495 172.615 500.32C174.908 505.64 177.328 511.187 179.875 516.96C182.408 522.733 185.008 528.267 187.675 533.56C190.341 538.84 193.375 544.213 196.775 549.68C200.161 555.147 203.841 560.807 207.815 566.66C211.788 572.5 215.555 578.013 219.115 583.2C222.688 588.373 226.815 594.227 231.495 600.76C236.175 607.293 240.428 613.42 244.255 619.14C248.081 624.86 251.708 630.36 255.135 635.64C258.561 640.933 262.615 647.407 267.295 655.06C271.961 662.727 276.155 669.667 279.875 675.88C283.608 682.093 287.761 690.04 292.335 699.72C296.908 709.413 300.428 717.507 302.895 724C305.361 730.507 307.701 736.813 309.915 742.92C312.128 749.027 314.268 755.26 316.335 761.62C318.401 767.98 320.415 774.42 322.375 780.94C324.321 787.46 326.248 793.82 328.155 800.02C330.048 806.22 331.768 812.78 333.315 819.7C334.861 826.607 336.328 833.407 337.715 840.1C339.088 846.78 340.368 853.707 341.555 860.88C342.741 868.04 343.868 874.86 344.935 881.34C345.988 887.82 346.908 894.36 347.695 900.96C348.495 907.56 349.141 914.52 349.635 921.84C350.128 929.173 350.535 935.787 350.855 941.68C351.175 947.587 351.508 955.593 351.855 965.7C352.188 975.807 352.488 984.607 352.755 992.1C353.021 999.593 352.655 1006.89 351.655 1014C350.655 1021.12 348.948 1028.17 346.535 1035.16C344.135 1042.16 341.608 1048.39 338.955 1053.86C336.315 1059.34 333.361 1064.78 330.095 1070.18C326.828 1075.59 322.675 1081.15 317.635 1086.86C312.595 1092.57 307.708 1097.41 302.975 1101.4C298.241 1105.37 293.255 1108.89 288.015 1111.96C282.788 1115.03 276.601 1118.35 269.455 1121.92C262.308 1125.49 256.001 1128.49 250.535 1130.9C245.068 1133.33 238.595 1135.99 231.115 1138.9C223.635 1141.82 214.621 1144.63 204.075 1147.34C193.528 1150.06 183.508 1152.32 174.015 1154.12C164.521 1155.92 155.361 1157.09 146.535 1157.64C137.708 1158.19 130.368 1158.63 124.515 1158.96C118.675 1159.31 112.848 1159.61 107.035 1159.86C101.221 1160.11 94.5413 1160.31 86.9946 1160.44C79.4479 1160.57 72.788 1160.18 67.0146 1159.26C61.2413 1158.34 55.4413 1156.63 49.6146 1154.12C43.7879 1151.61 38.0746 1148.54 32.4746 1144.9C26.8879 1141.27 21.7079 1136.74 16.9346 1131.3C12.1613 1125.85 8.32126 1120.05 5.41459 1113.92C2.52126 1107.77 0.154616 1101.64 -1.68538 1095.52C-3.52538 1089.4 -5.03207 1083.13 -6.2054 1076.7C-7.39207 1070.29 -8.16541 1064.17 -8.52541 1058.34C-8.88541 1052.51 -9.22537 1046.68 -9.54537 1040.84C-9.86537 1035 -9.68539 1027.74 -9.00539 1019.06C-8.33872 1010.39 -6.25873 1002.77 -2.7654 996.2C0.727932 989.627 5.03458 982.833 10.1546 975.82C15.2612 968.807 20.6813 962.2 26.4146 956C32.1346 949.8 37.8879 944.027 43.6746 938.68C49.4613 933.333 56.0679 927.787 63.4946 922.04C70.9346 916.28 78.7613 910.853 86.9746 905.76C95.1746 900.667 101.935 896.747 107.255 894C112.575 891.24 121.548 887.3 134.175 882.18C146.801 877.06 157.108 873.213 165.095 870.64C173.081 868.053 180.488 865.72 187.315 863.64C194.128 861.547 200.821 859.62 207.395 857.86C213.955 856.087 220.215 854.313 226.175 852.54C232.148 850.753 238.495 849.107 245.215 847.6C251.921 846.093 258.821 844.753 265.915 843.58C272.995 842.407 279.675 841.4 285.955 840.56C292.235 839.733 298.235 838.98 303.955 838.3C309.675 837.633 315.755 837.147 322.195 836.84C328.648 836.533 336.715 836.213 346.395 835.88C356.075 835.533 365.755 835.547 375.435 835.92C385.101 836.293 395.175 837.627 405.655 839.92C416.135 842.227 426.495 845.18 436.735 848.78C446.988 852.393 457.621 856.9 468.635 862.3C479.648 867.7 488.215 872.3 494.335 876.1C500.468 879.9 506.068 883.393 511.135 886.58C516.188 889.753 521.241 893.047 526.295 896.46C531.335 899.86 536.308 903.267 541.215 906.68C546.121 910.093 550.995 913.5 555.835 916.9C560.688 920.313 565.788 924.067 571.135 928.16C576.481 932.24 581.535 936.113 586.295 939.78C591.068 943.433 595.835 947.233 600.595 951.18C605.355 955.127 610.821 960.373 616.995 966.92C623.168 973.467 628.868 979.607 634.095 985.34C639.321 991.073 644.035 996.213 648.235 1000.76C652.435 1005.31 656.448 1009.8 660.275 1014.24C664.101 1018.68 667.828 1023.09 671.455 1027.46C675.068 1031.85 680.068 1038.38 686.455 1047.06C692.855 1055.73 698.755 1064.4 704.155 1073.08C709.555 1081.75 714.448 1090.13 718.835 1098.24C723.235 1106.35 726.775 1113.5 729.455 1119.7C732.135 1125.9 734.681 1131.77 737.095 1137.32C739.508 1142.87 741.975 1148.2 744.495 1153.32C747.015 1158.43 749.968 1164.18 753.355 1170.58C756.755 1176.97 760.441 1184.04 764.415 1191.8C768.401 1199.56 772.988 1208.52 778.175 1218.68C783.375 1228.84 789.468 1239.99 796.455 1252.12C803.428 1264.25 811.015 1276.72 819.215 1289.52C827.415 1302.32 836.215 1315.38 845.615 1328.7C855.001 1342.03 867.355 1357.5 882.675 1375.1C897.995 1392.7 913.055 1409.23 927.855 1424.7C942.655 1440.15 957.548 1454.87 972.535 1468.84C987.521 1482.81 1003.13 1496.07 1019.35 1508.6C1035.58 1521.15 1051.99 1533.11 1068.59 1544.5C1085.19 1555.89 1102.08 1566.77 1119.25 1577.14C1136.43 1587.53 1153.35 1597.17 1170.03 1606.06C1186.71 1614.95 1203.15 1623.25 1219.35 1630.96C1235.55 1638.68 1251.83 1645.9 1268.19 1652.62C1284.57 1659.35 1302.27 1665.96 1321.29 1672.44C1340.33 1678.92 1357.27 1684.29 1372.09 1688.54C1386.91 1692.79 1400.22 1696.34 1412.03 1699.18C1423.83 1702.02 1434.13 1704.11 1442.91 1705.46C1451.69 1706.79 1459.93 1707.89 1467.65 1708.76C1475.37 1709.64 1482.15 1710.23 1487.99 1710.52C1493.83 1710.83 1499.73 1710.99 1505.69 1711C1511.67 1711.01 1517.45 1710.81 1523.03 1710.38C1528.62 1709.95 1532.43 1709.91 1534.45 1710.26C1536.47 1710.62 1538.37 1711.29 1540.17 1712.26C1541.97 1713.23 1543.57 1714.47 1544.97 1715.98C1546.37 1717.49 1547.49 1719.17 1548.33 1721.04C1549.17 1722.91 1549.69 1724.86 1549.89 1726.9C1550.09 1728.94 1549.97 1730.96 1549.51 1732.96C1549.05 1734.96 1548.28 1736.83 1547.21 1738.58C1546.13 1740.33 1544.81 1741.85 1543.23 1743.16C1541.66 1744.48 1539.91 1745.51 1537.99 1746.24C1536.09 1746.99 1534.11 1747.4 1532.05 1747.48C1530.01 1747.57 1528.01 1747.34 1526.03 1746.78C1524.06 1746.21 1522.23 1745.33 1520.55 1744.16C1518.86 1743 1517.41 1741.6 1516.19 1739.96C1514.97 1738.31 1514.03 1736.51 1513.39 1734.56C1512.75 1732.61 1512.45 1730.61 1512.47 1728.56C1512.49 1726.51 1512.83 1724.51 1513.51 1722.58C1514.19 1720.65 1515.16 1718.87 1516.41 1717.24C1517.67 1715.63 1519.15 1714.25 1520.85 1713.12C1522.56 1711.99 1524.41 1711.15 1526.39 1710.62C1528.37 1710.1 1530.38 1709.9 1532.43 1710.02C1534.47 1710.15 1536.45 1710.61 1538.35 1711.4C1540.25 1712.17 1541.97 1713.23 1543.51 1714.58C1545.06 1715.91 1546.35 1717.47 1547.39 1719.24C1548.43 1721 1549.17 1722.89 1549.59 1724.9C1550.01 1726.9 1550.09 1728.92 1549.85 1730.96C1549.61 1733 1549.05 1734.95 1548.17 1736.8C1547.29 1738.65 1546.14 1740.31 1544.71 1741.78C1543.29 1743.26 1541.67 1744.47 1539.85 1745.4C1538.03 1746.35 1536.1 1746.97 1534.07 1747.28C1532.05 1747.6 1531.03 1747.76 1531.03 1747.76C1531.05 1747.76 1527.73 1747.37 1521.09 1746.58C1514.47 1745.79 1508.05 1744.61 1501.83 1743.02C1495.62 1741.43 1489.52 1739.95 1483.53 1738.56C1477.55 1737.16 1470.67 1735.52 1462.91 1733.64C1455.17 1731.76 1446.88 1729.69 1438.05 1727.42C1429.21 1725.15 1418.74 1722.57 1406.63 1719.68C1394.53 1716.77 1380.9 1713.15 1365.75 1708.82C1350.59 1704.49 1333.28 1699.02 1313.81 1692.42C1294.36 1685.82 1276.27 1679.1 1259.53 1672.26C1242.8 1665.42 1226.17 1658.1 1209.65 1650.3C1193.12 1642.5 1176.33 1634.1 1159.27 1625.1C1142.21 1616.1 1124.87 1606.35 1107.27 1595.86C1089.69 1585.35 1072.37 1574.36 1055.33 1562.88C1038.29 1551.39 1021.31 1539.24 1004.39 1526.44C987.475 1513.63 971.248 1500.2 955.715 1486.16C940.195 1472.12 924.735 1457.39 909.335 1441.98C893.948 1426.55 878.101 1409.92 861.795 1392.08C845.488 1374.25 832.208 1358.79 821.955 1345.7C811.688 1332.59 801.895 1319.82 792.575 1307.38C783.255 1294.94 774.408 1282.96 766.035 1271.44C757.661 1259.92 749.908 1249.35 742.775 1239.72C735.641 1230.09 729.761 1221.61 725.135 1214.28C720.508 1206.95 716.061 1199.8 711.795 1192.84C707.528 1185.89 703.941 1179.55 701.035 1173.82C698.141 1168.09 694.295 1159.92 689.495 1149.32C684.708 1138.71 680.401 1129.51 676.575 1121.74C672.748 1113.97 668.621 1106.18 664.195 1098.38C659.768 1090.58 654.835 1082.67 649.395 1074.66C643.955 1066.65 637.935 1058.47 631.335 1050.14C624.735 1041.79 619.475 1035.42 615.555 1031.02C611.648 1026.63 607.148 1021.85 602.055 1016.68C596.961 1011.51 589.475 1004.58 579.595 995.9C569.701 987.207 562.428 981.093 557.775 977.56C553.135 974.013 548.295 970.407 543.255 966.74C538.215 963.073 533.295 959.573 528.495 956.24C523.708 952.92 518.941 949.627 514.195 946.36C509.435 943.107 502.381 938.46 493.035 932.42C483.688 926.38 473.635 920.46 462.875 914.66C452.115 908.86 442.481 904.273 433.975 900.9C425.481 897.527 417.121 894.46 408.895 891.7C400.681 888.94 392.801 886.92 385.255 885.64C377.708 884.36 369.575 883.667 360.855 883.56C352.135 883.44 342.775 883.5 332.775 883.74C322.761 883.993 312.275 884.76 301.315 886.04C290.355 887.333 278.975 889.253 267.175 891.8C255.361 894.347 246.301 896.653 239.995 898.72C233.688 900.787 227.601 902.713 221.735 904.5C215.868 906.273 209.948 908.233 203.975 910.38C198.001 912.513 191.435 915.193 184.275 918.42C177.101 921.647 168.335 925.853 157.975 931.04C147.628 936.227 138.488 941.247 130.555 946.1C122.635 950.953 115.621 955.62 109.515 960.1C103.421 964.593 97.7679 969.24 92.5546 974.04C87.3413 978.84 82.5546 983.46 78.1946 987.9C73.8346 992.327 69.5013 997.347 65.1946 1002.96C60.888 1008.56 57.308 1014.61 54.4546 1021.12C51.6146 1027.63 50.3213 1033.96 50.5746 1040.12C50.828 1046.27 51.0546 1052.28 51.2546 1058.16C51.468 1064.04 52.3546 1069.77 53.9146 1075.36C55.4879 1080.95 57.8213 1086.2 60.9146 1091.12C63.9946 1096.05 68.2946 1099.51 73.8146 1101.48C79.3346 1103.45 85.8413 1104.45 93.3346 1104.48C100.841 1104.51 107.595 1104.37 113.595 1104.06C119.581 1103.74 125.648 1103.52 131.795 1103.4C137.941 1103.28 144.461 1102.79 151.355 1101.94C158.248 1101.09 166.341 1099.45 175.635 1097.04C184.928 1094.63 193.001 1092.21 199.855 1089.78C206.695 1087.35 213.015 1084.86 218.815 1082.3C224.601 1079.75 230.795 1076.93 237.395 1073.82C243.995 1070.71 250.555 1067.53 257.075 1064.26C263.595 1060.99 269.288 1057.01 274.155 1052.3C279.008 1047.61 283.315 1042.58 287.075 1037.22C290.835 1031.87 294.155 1026.45 297.035 1020.96C299.928 1015.47 301.915 1009.41 302.995 1002.8C304.088 996.2 304.708 988.627 304.855 980.08C305.015 971.52 305.001 962.147 304.815 951.96C304.628 941.76 304.195 933.313 303.515 926.62C302.835 919.913 302.128 913.653 301.395 907.84C300.661 902.027 299.708 895.967 298.535 889.66C297.375 883.367 296.128 877 294.795 870.56C293.475 864.133 291.308 854.927 288.295 842.94C285.281 830.967 282.681 821.913 280.495 815.78C278.308 809.66 276.115 803.58 273.915 797.54C271.728 791.5 269.535 785.653 267.335 780C265.148 774.347 262.881 768.807 260.535 763.38C258.188 757.94 254.635 750.22 249.875 740.22C245.115 730.207 240.681 721.753 236.575 714.86C232.468 707.967 227.995 700.587 223.155 692.72C218.301 684.867 213.741 677.593 209.475 670.9C205.208 664.207 201.435 658.413 198.155 653.52C194.875 648.627 191.695 643.8 188.615 639.04C185.548 634.28 182.361 629.433 179.055 624.5C175.735 619.567 172.348 614.387 168.895 608.96C165.441 603.52 161.728 597.613 157.755 591.24C153.795 584.853 150.461 579.093 147.755 573.96C145.048 568.827 142.401 563.467 139.815 557.88C137.215 552.307 134.441 545.98 131.495 538.9C128.561 531.82 126.001 525.4 123.815 519.64C121.628 513.867 119.368 507.567 117.035 500.74C114.715 493.927 112.561 486.673 110.575 478.98C108.601 471.273 106.775 462.307 105.095 452.08C103.401 441.84 102.481 431.653 102.335 421.52C102.188 411.387 102.321 401.26 102.735 391.14C103.161 381.007 104.268 370.067 106.055 358.32C107.841 346.587 109.475 337.827 110.955 332.04C112.421 326.253 115.228 318.187 119.375 307.84C123.535 297.507 128.195 287.833 133.355 278.82C138.515 269.793 142.808 262.493 146.235 256.92C149.661 251.347 154.348 244.827 160.295 237.36C166.255 229.893 172.855 222.433 180.095 214.98C187.335 207.54 195.095 200.567 203.375 194.06C211.641 187.553 218.168 182.627 222.955 179.28C227.728 175.933 232.675 172.513 237.795 169.02C242.915 165.54 248.455 161.767 254.415 157.7C260.375 153.633 267.028 148.827 274.375 143.28C281.735 137.733 288.448 132.927 294.515 128.86C300.581 124.807 307.308 120.207 314.695 115.06C322.068 109.913 329.768 104.713 337.795 99.4601C345.808 94.2067 353.868 89.1534 361.975 84.3001C370.081 79.4467 378.121 74.6934 386.095 70.0401C394.068 65.3867 402.035 60.9734 409.995 56.8001C417.955 52.6401 425.935 48.5201 433.935 44.4401C441.935 40.3601 450.401 36.2401 459.335 32.0801C468.268 27.9334 475.895 24.8534 482.215 22.8401C488.535 20.8267 494.668 18.8601 500.615 16.9401C506.548 14.9934 513.035 12.9001 520.075 10.6601C527.101 8.40675 533.501 6.69341 539.275 5.52008C545.048 4.33341 551.215 3.20008 557.775 2.12008C564.335 1.05341 570.188 0.460079 575.335 0.340079C580.468 0.220079 583.788 0.193413 585.295 0.26008C586.815 0.326746 588.301 0.573413 589.755 1.00008C591.221 1.42675 592.608 2.02008 593.915 2.78008C595.235 3.54008 596.441 4.44675 597.535 5.50008C598.628 6.56675 599.575 7.74008 600.375 9.02008C601.188 10.3134 601.835 11.6801 602.315 13.1201C602.795 14.5601 603.088 16.0401 603.195 17.5601C603.315 19.0534 603.255 20.5534 603.015 22.0601C602.761 23.5534 602.335 25.0001 601.735 26.4001C601.135 27.8001 600.375 29.1067 599.455 30.3201C598.535 31.5334 597.488 32.6134 596.315 33.5601C595.128 34.5201 593.848 35.3267 592.475 35.9801C591.101 36.6201 589.668 37.0934 588.175 37.4001C586.695 37.6934 585.955 37.8401 585.955 37.8401Z"
                    stroke="#A98CE4" fill="none" strokeWidth="2" opacity="0.3"
                />


                {/* OPTION 4: If you want to use custom path data from imported file */}
                {/* You would extract the path data from your SVG and use it here */}
                {/* <path d={customPathData} ... /> */}

                {/* Repeating pattern for infinite scroll */}
                {[0, 1000, 2000, 3000].map((offset) => (
                    <g key={offset}>
                        <path
                            d={`M 500 ${offset - 100} 
                               Q 200 ${offset + 200}, 500 ${offset + 500} 
                               T 500 ${offset + 1000}`}
                            stroke="url(#gradient)"
                            strokeWidth="3"
                            fill="none"
                            opacity="0.3"
                            strokeLinecap="round"
                        />
                    </g>
                ))}

                {/* Gradients remain the same */}
                <defs>
                    <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" stopColor="#A98CE4" stopOpacity="0" />
                        <stop offset="50%" stopColor="#A98CE4" stopOpacity="0.5" />
                        <stop offset="100%" stopColor="#A98CE4" stopOpacity="0" />
                    </linearGradient>
                </defs>
            </svg>
        </div>
    );
};

export default LoopyBackground